<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="deisa.ray.utils module" href="deisa.ray.utils.html"><link rel="prev" title="deisa.ray.scheduling_actor module" href="deisa.ray.scheduling_actor.html">

    <!-- Generated with Sphinx 8.2.3 and Furo 2025.09.25 -->
        <title>deisa.ray.types module - deisa-ray documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">deisa-ray  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  
  <span class="sidebar-brand-text">deisa-ray  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="analytics.html">Analytics</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current has-children"><a class="reference internal" href="deisa.ray.html">deisa.ray package</a><input aria-label="Toggle navigation of deisa.ray package" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.bridge.html">deisa.ray.bridge module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.config.html">deisa.ray.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.errors.html">deisa.ray.errors module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.head_node.html">deisa.ray.head_node module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.scheduling_actor.html">deisa.ray.scheduling_actor module</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">deisa.ray.types module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.utils.html">deisa.ray.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deisa.ray.window_handler.html">deisa.ray.window_handler module</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/deisa.ray.types.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="module-deisa.ray.types">
<span id="deisa-ray-types-module"></span><h1>deisa.ray.types module<a class="headerlink" href="#module-deisa.ray.types" title="Link to this heading">¶</a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.ArrayPerTimestep">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">ArrayPerTimestep</span></span><a class="reference internal" href="_modules/deisa/ray/types.html#ArrayPerTimestep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.ArrayPerTimestep" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Internal class tracking chunks for a specific array and timestep.</p>
<p>Tracks the per-timestep chunks owned by a single scheduling actor. Each
instance is keyed by <code class="docutils literal notranslate"><span class="pre">timestep</span></code> inside a <a class="reference internal" href="#deisa.ray.types.PartialArray" title="deisa.ray.types.PartialArray"><code class="xref py py-class docutils literal notranslate"><span class="pre">PartialArray</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ArrayPerTimestep.chunks_ready_event">
<span class="sig-name descname"><span class="pre">chunks_ready_event</span></span><a class="headerlink" href="#deisa.ray.types.ArrayPerTimestep.chunks_ready_event" title="Link to this definition">¶</a></dt>
<dd><p>Triggered when all chunks for this timestep owned by the node actor
have arrived and been forwarded to the head actor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>asyncio.Event</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ArrayPerTimestep.local_chunks">
<span class="sig-name descname"><span class="pre">local_chunks</span></span><a class="headerlink" href="#deisa.ray.types.ArrayPerTimestep.local_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Mapping of <code class="docutils literal notranslate"><span class="pre">bridge_id</span></code> to the double ObjectRef for that chunk. Once
forwarded to the head actor the value is replaced with pickled bytes
to free memory.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AsyncDict[int, ray.ObjectRef | bytes]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">ChunkRef</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ObjectRef</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">actorid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">array_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bridge_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deisa/ray/types.html#ChunkRef"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.ChunkRef" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a chunk of an array in a Dask task graph.</p>
<p>This class is used as a placeholder in Dask task graphs to represent a
chunk of data. The task corresponding to this object must be scheduled
by the actor who has the actual data. This class is used since Dask
tends to inline simple tuples, which would prevent proper scheduling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actor_id</strong> (<em>int</em>) – The ID of the scheduling actor that owns this chunk.</p></li>
<li><p><strong>array_name</strong> (<em>str</em>) – The real name of the array, without the timestep suffix.</p></li>
<li><p><strong>timestep</strong> (<em>Timestep</em>) – The timestep this chunk belongs to.</p></li>
<li><p><strong>position</strong> (<em>tuple</em><em>[</em><em>int</em><em>, </em><em>...</em><em>]</em>) – The position of the chunk in the array decomposition.</p></li>
<li><p><strong>_all_chunks</strong> (<em>ray.ObjectRef</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – ObjectRef containing all chunks for this timestep. Set for one chunk
only to avoid duplication. Default is None.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This class is used to prevent Dask from inlining simple tuples in the
task graph, which would break the scheduling mechanism. The behavior
may change in newer versions of Dask.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef.actorid">
<span class="sig-name descname"><span class="pre">actorid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#deisa.ray.types.ChunkRef.actorid" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef.array_name">
<span class="sig-name descname"><span class="pre">array_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#deisa.ray.types.ChunkRef.array_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef.bridge_id">
<span class="sig-name descname"><span class="pre">bridge_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#deisa.ray.types.ChunkRef.bridge_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef.ref">
<span class="sig-name descname"><span class="pre">ref</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ObjectRef</span></em><a class="headerlink" href="#deisa.ray.types.ChunkRef.ref" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ChunkRef.timestep">
<span class="sig-name descname"><span class="pre">timestep</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#deisa.ray.types.ChunkRef.timestep" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">DaskArrayData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f_preprocessing</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deisa/ray/types.html#DaskArrayData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.DaskArrayData" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Information about a Dask array being built.</p>
<p>Tracks metadata and per-timestep state for a Dask array assembled from
chunks sent by scheduling actors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Array name registered with the head actor.</p></li>
<li><p><strong>f_preprocessing</strong> (<em>Callable</em>) – Preprocessing callback applied to each chunk.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.name" title="Link to this definition">¶</a></dt>
<dd><p>Array name without timestep suffix.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.f_preprocessing">
<span class="sig-name descname"><span class="pre">f_preprocessing</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.f_preprocessing" title="Link to this definition">¶</a></dt>
<dd><p>Preprocessing callback supplied at registration.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.fully_defined">
<span class="sig-name descname"><span class="pre">fully_defined</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.fully_defined" title="Link to this definition">¶</a></dt>
<dd><p>Set when every chunk owner has been registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>asyncio.Event</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.nb_chunks_per_dim">
<span class="sig-name descname"><span class="pre">nb_chunks_per_dim</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.nb_chunks_per_dim" title="Link to this definition">¶</a></dt>
<dd><p>Number of chunks per dimension. Set when first chunk owner is
registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple[int, …] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.nb_chunks">
<span class="sig-name descname"><span class="pre">nb_chunks</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.nb_chunks" title="Link to this definition">¶</a></dt>
<dd><p>Total number of chunks in the array. Set when first chunk owner
is registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.chunks_size">
<span class="sig-name descname"><span class="pre">chunks_size</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.chunks_size" title="Link to this definition">¶</a></dt>
<dd><p>For each dimension, the size of chunks in that dimension. None
values indicate unknown chunk sizes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[list[int | None]] or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.dtype">
<span class="sig-name descname"><span class="pre">dtype</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.dtype" title="Link to this definition">¶</a></dt>
<dd><p>The numpy dtype of the array chunks. Set when first chunk owner
is registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.dtype or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.position_to_node_actorID">
<span class="sig-name descname"><span class="pre">position_to_node_actorID</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.position_to_node_actorID" title="Link to this definition">¶</a></dt>
<dd><p>Mapping from chunk position to the scheduling actor responsible
for that chunk.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[tuple[int, …], int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.position_to_bridgeID">
<span class="sig-name descname"><span class="pre">position_to_bridgeID</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.position_to_bridgeID" title="Link to this definition">¶</a></dt>
<dd><p>Mapping from chunk position to the producing bridge ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[tuple, int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.nb_scheduling_actors">
<span class="sig-name descname"><span class="pre">nb_scheduling_actors</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.nb_scheduling_actors" title="Link to this definition">¶</a></dt>
<dd><p>Number of unique scheduling actors owning chunks of this array.
Set when all chunk owners are known.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.chunk_refs">
<span class="sig-name descname"><span class="pre">chunk_refs</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.chunk_refs" title="Link to this definition">¶</a></dt>
<dd><p>For each timestep, the list of per-actor references that keep
chunk payloads alive in the object store.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[Timestep, list[ray.ObjectRef]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.pos_to_ref_by_timestep">
<span class="sig-name descname"><span class="pre">pos_to_ref_by_timestep</span></span><a class="headerlink" href="#deisa.ray.types.DaskArrayData.pos_to_ref_by_timestep" title="Link to this definition">¶</a></dt>
<dd><p>For each timestep, the (position, ref) pairs provided by scheduling
actors. Used when distributed scheduling is disabled.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>defaultdict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.add_chunk_ref">
<span class="sig-name descname"><span class="pre">add_chunk_ref</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chunk_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ObjectRef</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pos_to_ref</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span><span class="p"><span class="pre">[</span></span><span class="pre">tuple</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">ObjectRef</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/deisa/ray/types.html#DaskArrayData.add_chunk_ref"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.DaskArrayData.add_chunk_ref" title="Link to this definition">¶</a></dt>
<dd><p>Add a reference sent by a scheduling actor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>chunk_ref</strong> (<em>ray.ObjectRef</em>) – Ray object reference to a chunk sent by a scheduling actor.</p></li>
<li><p><strong>timestep</strong> (<em>Timestep</em>) – The timestep this chunk belongs to.</p></li>
<li><p><strong>pos_to_ref</strong> (<em>dict</em><em>[</em><em>tuple</em><em>, </em><em>ray.ObjectRef</em><em>]</em>) – Mapping of chunk position to the (double) Ray ObjectRef provided
by the scheduling actor for this timestep.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all chunks for this timestep are ready (i.e., all
scheduling actors have sent their chunks), False otherwise.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This method adds the chunk reference to the list for the given
timestep. It returns True only when all chunk owners are known
and all have sent their chunks for this timestep.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.get_full_array">
<span class="sig-name descname"><span class="pre">get_full_array</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Hashable</span></span></em>, <em class="sig-param"><span class="keyword-only-separator o"><abbr title="Keyword-only parameters separator (PEP 3102)"><span class="pre">*</span></abbr></span></em>, <em class="sig-param"><span class="n"><span class="pre">distributing_scheduling_enabled</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_preparation</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Array</span></span></span><a class="reference internal" href="_modules/deisa/ray/types.html#DaskArrayData.get_full_array"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.DaskArrayData.get_full_array" title="Link to this definition">¶</a></dt>
<dd><p>Return the full Dask array for a given timestep.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>timestep</strong> (<em>Timestep</em>) – The timestep for which the full array should be returned.</p></li>
<li><p><strong>is_preparation</strong> (<em>bool</em><em>, </em><em>optional</em>) – If True, the array will not contain ObjectRefs to the actual data.
This is used for preparation arrays where only the structure is
needed. Default is False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Dask array representing the full decomposed array for the given
timestep. The array is constructed from chunk references stored
in Ray’s object store.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>da.Array</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If not all chunk owners have been registered, or if the number
    of chunks is inconsistent.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>When distributed scheduling is enabled the graph uses <a class="reference internal" href="#deisa.ray.types.ChunkRef" title="deisa.ray.types.ChunkRef"><code class="xref py py-class docutils literal notranslate"><span class="pre">ChunkRef</span></code></a>
placeholders that keep data owner information. Otherwise the concrete
chunk payloads are inlined. Chunk reference lists are deleted after
embedding in the graph to avoid leaking memory.
(is_preparation not used for now) <code class="docutils literal notranslate"><span class="pre">is_preparation</span></code> skips
storing payload refs entirely so analytics can inspect shapes/chunks
without materialising data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="deisa.ray.types.DaskArrayData.update_meta">
<span class="sig-name descname"><span class="pre">update_meta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nb_chunks_per_dim</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dtype</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_actor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bridge_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/deisa/ray/types.html#DaskArrayData.update_meta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.DaskArrayData.update_meta" title="Link to this definition">¶</a></dt>
<dd><p>Register a scheduling actor as the owner of a chunk at a specific position.</p>
<p>This method records which scheduling actor is responsible for a chunk
and updates the array metadata. If this is the first chunk registered,
it initializes the array dimensions and dtype.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>nb_chunks_per_dim</strong> (<em>tuple</em><em>[</em><em>int</em><em>, </em><em>...</em><em>]</em>) – Number of chunks per dimension in the array decomposition.</p></li>
<li><p><strong>dtype</strong> (<em>np.dtype</em>) – The numpy dtype of the chunk.</p></li>
<li><p><strong>position</strong> (<em>tuple</em><em>[</em><em>int</em><em>, </em><em>...</em><em>]</em>) – The position of the chunk in the array decomposition.</p></li>
<li><p><strong>size</strong> (<em>tuple</em><em>[</em><em>int</em><em>, </em><em>...</em><em>]</em>) – The size of the chunk along each dimension.</p></li>
<li><p><strong>node_actor_id</strong> (<em>int</em>) – Scheduling actor that owns this chunk.</p></li>
<li><p><strong>bridge_id</strong> (<em>int</em>) – Bridge identifier that produced the chunk (used for lookups).</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>AssertionError</strong> – If the chunk position is out of bounds, or if subsequent chunks
    have inconsistent dimensions, dtype, or sizes compared to the
    first chunk.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.GraphInfo">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">GraphInfo</span></span><a class="reference internal" href="_modules/deisa/ray/types.html#GraphInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.GraphInfo" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Information about graphs and their scheduling.</p>
<p>Tracks scheduling status and produced references for a Dask task graph
scheduled by a <code class="xref py py-class docutils literal notranslate"><span class="pre">SchedulingActor</span></code>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.GraphInfo.scheduled_event">
<span class="sig-name descname"><span class="pre">scheduled_event</span></span><a class="headerlink" href="#deisa.ray.types.GraphInfo.scheduled_event" title="Link to this definition">¶</a></dt>
<dd><p>Event set once the graph has been submitted to Ray.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>asyncio.Event</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.GraphInfo.refs">
<span class="sig-name descname"><span class="pre">refs</span></span><a class="headerlink" href="#deisa.ray.types.GraphInfo.refs" title="Link to this definition">¶</a></dt>
<dd><p>Mapping from task key to the <em>double</em> Ray ObjectRef returned by the
patched Dask-on-Ray scheduler.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[str, ray.ObjectRef]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.PartialArray">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">PartialArray</span></span><a class="reference internal" href="_modules/deisa/ray/types.html#PartialArray"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.PartialArray" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Internal class tracking metadata and chunks for an array.</p>
<p>Maintains metadata for a single array on one scheduling actor, including
the set of locally owned chunks and per-timestep chunk collections.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.PartialArray.ready_event">
<span class="sig-name descname"><span class="pre">ready_event</span></span><a class="headerlink" href="#deisa.ray.types.PartialArray.ready_event" title="Link to this definition">¶</a></dt>
<dd><p>Set once all local bridges have provided metadata for the array and
the head actor has been notified.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>asyncio.Event</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.PartialArray.chunks_contained_meta">
<span class="sig-name descname"><span class="pre">chunks_contained_meta</span></span><a class="headerlink" href="#deisa.ray.types.PartialArray.chunks_contained_meta" title="Link to this definition">¶</a></dt>
<dd><p>Metadata tuples <code class="docutils literal notranslate"><span class="pre">(bridge_id,</span> <span class="pre">chunk_position,</span> <span class="pre">chunk_size)</span></code> for the
chunks owned by this actor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set[tuple[int, tuple[int, …], tuple[int, …]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.PartialArray.bid_to_pos">
<span class="sig-name descname"><span class="pre">bid_to_pos</span></span><a class="headerlink" href="#deisa.ray.types.PartialArray.bid_to_pos" title="Link to this definition">¶</a></dt>
<dd><p>Maps <code class="docutils literal notranslate"><span class="pre">bridge_id</span></code> to the corresponding chunk position for quick
lookup when forwarding payloads.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict[int, tuple]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.PartialArray.per_timestep_arrays">
<span class="sig-name descname"><span class="pre">per_timestep_arrays</span></span><a class="headerlink" href="#deisa.ray.types.PartialArray.per_timestep_arrays" title="Link to this definition">¶</a></dt>
<dd><p>Per-timestep structures that hold chunk references as they arrive.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>AsyncDict[Timestep, <a class="reference internal" href="#deisa.ray.types.ArrayPerTimestep" title="deisa.ray.types.ArrayPerTimestep">ArrayPerTimestep</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.ScheduledByOtherActor">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">ScheduledByOtherActor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actor_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">ActorID</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deisa/ray/types.html#ScheduledByOtherActor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.ScheduledByOtherActor" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Represents a task that is scheduled by another actor.</p>
<p>This class is used as a placeholder in Dask task graphs to indicate
that a task should be scheduled by a different actor. When a task graph
is sent to an actor, tasks marked with this class will be delegated to
the specified actor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>actor_id</strong> (<em>int</em>) – The ID of the scheduling actor that should schedule this task.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This is used to handle cross-actor task dependencies in distributed
Dask computations where different parts of the task graph are handled
by different scheduling actors.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.ScheduledByOtherActor.actor_id">
<span class="sig-name descname"><span class="pre">actor_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ActorID</span></em><a class="headerlink" href="#deisa.ray.types.ScheduledByOtherActor.actor_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="deisa.ray.types.WindowArrayDefinition">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">deisa.ray.types.</span></span><span class="sig-name descname"><span class="pre">WindowArrayDefinition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">window_size:</span> <span class="pre">int</span> <span class="pre">|</span> <span class="pre">None</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocess:</span> <span class="pre">~typing.Callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">WindowArrayDefinition.&lt;lambda&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/deisa/ray/types.html#WindowArrayDefinition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#deisa.ray.types.WindowArrayDefinition" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Description of an array with optional windowing support.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – The name of the array.</p></li>
<li><p><strong>window_size</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – If specified, creates a sliding window of arrays for this array name.
The window will contain the last <cite>window_size</cite> timesteps. If None,
only the current timestep array is provided. Default is None.</p></li>
<li><p><strong>preprocess</strong> (<em>Callable</em><em>, </em><em>optional</em>) – A preprocessing function to apply to chunks of this array before
they are sent to the analytics. The function should take a numpy
array and return a processed numpy array. Default is the identity
function (no preprocessing).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span><span class="w"> </span><span class="nf">normalize</span><span class="p">(</span><span class="n">arr</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">arr</span> <span class="o">/</span> <span class="n">arr</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Array with windowing: last 5 timesteps</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_def</span> <span class="o">=</span> <span class="n">ArrayDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;temperature&quot;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">preprocess</span><span class="o">=</span><span class="n">normalize</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Array without windowing: current timestep only</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">array_def</span> <span class="o">=</span> <span class="n">ArrayDefinition</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;pressure&quot;</span><span class="p">,</span> <span class="n">window_size</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.WindowArrayDefinition.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#deisa.ray.types.WindowArrayDefinition.name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="deisa.ray.types.WindowArrayDefinition.preprocess">
<span class="sig-name descname"><span class="pre">preprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#deisa.ray.types.WindowArrayDefinition.preprocess" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="deisa.ray.types.WindowArrayDefinition.window_size">
<span class="sig-name descname"><span class="pre">window_size</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">None</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#deisa.ray.types.WindowArrayDefinition.window_size" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="deisa.ray.utils.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">deisa.ray.utils module</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="deisa.ray.scheduling_actor.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">deisa.ray.scheduling_actor module</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Andres Bermeo Marinelli
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">deisa.ray.types module</a><ul>
<li><a class="reference internal" href="#deisa.ray.types.ArrayPerTimestep"><code class="docutils literal notranslate"><span class="pre">ArrayPerTimestep</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.ArrayPerTimestep.chunks_ready_event"><code class="docutils literal notranslate"><span class="pre">ArrayPerTimestep.chunks_ready_event</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.ArrayPerTimestep.local_chunks"><code class="docutils literal notranslate"><span class="pre">ArrayPerTimestep.local_chunks</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef"><code class="docutils literal notranslate"><span class="pre">ChunkRef</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef.actorid"><code class="docutils literal notranslate"><span class="pre">ChunkRef.actorid</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef.array_name"><code class="docutils literal notranslate"><span class="pre">ChunkRef.array_name</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef.bridge_id"><code class="docutils literal notranslate"><span class="pre">ChunkRef.bridge_id</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef.ref"><code class="docutils literal notranslate"><span class="pre">ChunkRef.ref</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.ChunkRef.timestep"><code class="docutils literal notranslate"><span class="pre">ChunkRef.timestep</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData"><code class="docutils literal notranslate"><span class="pre">DaskArrayData</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.name"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.name</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.f_preprocessing"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.f_preprocessing</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.fully_defined"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.fully_defined</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.nb_chunks_per_dim"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.nb_chunks_per_dim</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.nb_chunks"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.nb_chunks</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.chunks_size"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.chunks_size</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.dtype"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.dtype</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.position_to_node_actorID"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.position_to_node_actorID</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.position_to_bridgeID"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.position_to_bridgeID</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.nb_scheduling_actors"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.nb_scheduling_actors</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.chunk_refs"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.chunk_refs</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.pos_to_ref_by_timestep"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.pos_to_ref_by_timestep</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.add_chunk_ref"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.add_chunk_ref()</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.get_full_array"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.get_full_array()</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.DaskArrayData.update_meta"><code class="docutils literal notranslate"><span class="pre">DaskArrayData.update_meta()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.GraphInfo"><code class="docutils literal notranslate"><span class="pre">GraphInfo</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.GraphInfo.scheduled_event"><code class="docutils literal notranslate"><span class="pre">GraphInfo.scheduled_event</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.GraphInfo.refs"><code class="docutils literal notranslate"><span class="pre">GraphInfo.refs</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.PartialArray"><code class="docutils literal notranslate"><span class="pre">PartialArray</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.PartialArray.ready_event"><code class="docutils literal notranslate"><span class="pre">PartialArray.ready_event</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.PartialArray.chunks_contained_meta"><code class="docutils literal notranslate"><span class="pre">PartialArray.chunks_contained_meta</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.PartialArray.bid_to_pos"><code class="docutils literal notranslate"><span class="pre">PartialArray.bid_to_pos</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.PartialArray.per_timestep_arrays"><code class="docutils literal notranslate"><span class="pre">PartialArray.per_timestep_arrays</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.ScheduledByOtherActor"><code class="docutils literal notranslate"><span class="pre">ScheduledByOtherActor</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.ScheduledByOtherActor.actor_id"><code class="docutils literal notranslate"><span class="pre">ScheduledByOtherActor.actor_id</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#deisa.ray.types.WindowArrayDefinition"><code class="docutils literal notranslate"><span class="pre">WindowArrayDefinition</span></code></a><ul>
<li><a class="reference internal" href="#deisa.ray.types.WindowArrayDefinition.name"><code class="docutils literal notranslate"><span class="pre">WindowArrayDefinition.name</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.WindowArrayDefinition.preprocess"><code class="docutils literal notranslate"><span class="pre">WindowArrayDefinition.preprocess()</span></code></a></li>
<li><a class="reference internal" href="#deisa.ray.types.WindowArrayDefinition.window_size"><code class="docutils literal notranslate"><span class="pre">WindowArrayDefinition.window_size</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=5929fcd5"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    </body>
</html>